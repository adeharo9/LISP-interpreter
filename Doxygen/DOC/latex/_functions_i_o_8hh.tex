\hypertarget{_functions_i_o_8hh}{}\section{Referencia del Archivo Functions\+I\+O.\+hh}
\label{_functions_i_o_8hh}\index{Functions\+I\+O.\+hh@{Functions\+I\+O.\+hh}}


Especificación de las operaciones de lectura/escritura de expresiones.  


Dependencia gráfica adjunta para Functions\+I\+O.\+hh\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_functions_i_o_8hh__incl}
\end{center}
\end{figure}
\subsection*{Funciones}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{_functions_i_o_8hh_ae6062008fb1c70242c967349d6ee0f9b}{is\+\_\+num} (string str)
\begin{DoxyCompactList}\small\item\em Operación para identificar un número en una cadena de strings. \end{DoxyCompactList}\item 
void \hyperlink{_functions_i_o_8hh_a77ed86fa2fad279d440800e10d0f4a9a}{create\+Local\+Var\+Space} (\hyperlink{class_environment}{Environment} \&env, \hyperlink{class_expression}{Expression} \&exp, string parameters)
\begin{DoxyCompactList}\small\item\em Crea un espacio de variables local. \end{DoxyCompactList}\item 
void \hyperlink{_functions_i_o_8hh_ad4d84fbc6c7e89fb6c14869a204e0913}{evaluate} (\hyperlink{class_environment}{Environment} \&env, \hyperlink{class_expression}{Expression} \&exp)
\begin{DoxyCompactList}\small\item\em Operación de evaluación de expresión. \end{DoxyCompactList}\item 
void \hyperlink{_functions_i_o_8hh_aa35945b371ae9ece372fe0a7c8e97aee}{read\+List} (\hyperlink{class_environment}{Environment} \&env, \hyperlink{class_expression}{Expression} \&exp, \hyperlink{class_input}{Input} \&in)
\begin{DoxyCompactList}\small\item\em Operación de lectura de lista de expresiones. \end{DoxyCompactList}\item 
void \hyperlink{_functions_i_o_8hh_ae5d92549027ba3619eca48a15b567682}{read\+If} (\hyperlink{class_environment}{Environment} \&env, \hyperlink{class_expression}{Expression} \&exp, \hyperlink{class_input}{Input} \&in)
\begin{DoxyCompactList}\small\item\em Operación de lectura de operación \textquotesingle{}if\textquotesingle{}. \end{DoxyCompactList}\item 
void \hyperlink{_functions_i_o_8hh_acb31c57a06915fe17eee64989f500f0d}{read\+Op} (\hyperlink{class_environment}{Environment} \&env, \hyperlink{class_expression}{Expression} \&exp, \hyperlink{class_input}{Input} \&in)
\begin{DoxyCompactList}\small\item\em Operación de lectura de operación. \end{DoxyCompactList}\item 
void \hyperlink{_functions_i_o_8hh_a2b0504402167c389ef8c7de12d41149b}{define\+Var} (\hyperlink{class_environment}{Environment} \&env, string key, \hyperlink{class_input}{Input} \&in)
\begin{DoxyCompactList}\small\item\em Operación de definición de variable. \end{DoxyCompactList}\item 
void \hyperlink{_functions_i_o_8hh_a39e6424c2643bf6ddf2e5ff8a8c342e9}{define\+Op} (\hyperlink{class_environment}{Environment} \&env, string key, string parameters, \hyperlink{class_input}{Input} \&in)
\begin{DoxyCompactList}\small\item\em Operación de definición de operación. \end{DoxyCompactList}\item 
void \hyperlink{_functions_i_o_8hh_a65f523a256e113ca2711c3972157df26}{define} (\hyperlink{class_environment}{Environment} \&env, \hyperlink{class_input}{Input} \&in)
\begin{DoxyCompactList}\small\item\em Operación de definición. \end{DoxyCompactList}\item 
bool \hyperlink{_functions_i_o_8hh_a0c2a0ba0f4fe2dfe26ec14053ce4d408}{read\+Expression} (\hyperlink{class_environment}{Environment} \&env, \hyperlink{class_expression}{Expression} \&exp, \hyperlink{class_input}{Input} \&in)
\begin{DoxyCompactList}\small\item\em Inmersión de operación de lectura de expresiones. \end{DoxyCompactList}\item 
bool \hyperlink{_functions_i_o_8hh_a10264ecdb3196a71243b69fd4f98c229}{read} (\hyperlink{class_environment}{Environment} \&env, \hyperlink{class_expression}{Expression} \&exp)
\begin{DoxyCompactList}\small\item\em Operación de lectura de expresiones. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Descripción detallada}
Especificación de las operaciones de lectura/escritura de expresiones. 



\subsection{Documentación de las funciones}
\index{Functions\+I\+O.\+hh@{Functions\+I\+O.\+hh}!is\+\_\+num@{is\+\_\+num}}
\index{is\+\_\+num@{is\+\_\+num}!Functions\+I\+O.\+hh@{Functions\+I\+O.\+hh}}
\subsubsection[{\texorpdfstring{is\+\_\+num(string str)}{is_num(string str)}}]{\setlength{\rightskip}{0pt plus 5cm}bool is\+\_\+num (
\begin{DoxyParamCaption}
\item[{string}]{str}
\end{DoxyParamCaption}
)}\hypertarget{_functions_i_o_8hh_ae6062008fb1c70242c967349d6ee0f9b}{}\label{_functions_i_o_8hh_ae6062008fb1c70242c967349d6ee0f9b}


Operación para identificar un número en una cadena de strings. 

\begin{DoxyPrecond}{Precondición}
{\itshape Cierto} 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondición}
Devuelve cierto si la variable \textquotesingle{}str\textquotesingle{} es un número, falso en caso contrario 
\end{DoxyPostcond}
\begin{DoxyParagraph}{Coste}
Lineal respecto al tamaño de \textquotesingle{}str\textquotesingle{} 
\end{DoxyParagraph}


Definición en la línea 20 del archivo Functions\+I\+O.\+cc.


\begin{DoxyCode}
21 \{
22   \textcolor{keywordtype}{int} i = 0;
23   \textcolor{keywordflow}{if}(not str.empty() and (str[0] == \textcolor{charliteral}{'-'} or (str[0] >= \textcolor{charliteral}{'0'} and str[i] <= \textcolor{charliteral}{'9'}))) \{
24       ++i;
25     \textcolor{comment}{/* INV}
26 \textcolor{comment}{      0 <= i < str.size()}
27 \textcolor{comment}{    */}
28     \textcolor{keywordflow}{while}(i < str.size() and str[i] >= \textcolor{charliteral}{'0'} and str[i] <= \textcolor{charliteral}{'9'}) \{
29       ++i;
30     \}
31   \}
32   \textcolor{keywordflow}{return} not str.empty() and i == str.size() and str[i-1] != \textcolor{charliteral}{'-'};
33 \}
\end{DoxyCode}
\index{Functions\+I\+O.\+hh@{Functions\+I\+O.\+hh}!create\+Local\+Var\+Space@{create\+Local\+Var\+Space}}
\index{create\+Local\+Var\+Space@{create\+Local\+Var\+Space}!Functions\+I\+O.\+hh@{Functions\+I\+O.\+hh}}
\subsubsection[{\texorpdfstring{create\+Local\+Var\+Space(\+Environment \&env, Expression \&exp, string parameters)}{createLocalVarSpace(Environment &env, Expression &exp, string parameters)}}]{\setlength{\rightskip}{0pt plus 5cm}void create\+Local\+Var\+Space (
\begin{DoxyParamCaption}
\item[{{\bf Environment} \&}]{env, }
\item[{{\bf Expression} \&}]{exp, }
\item[{string}]{parameters}
\end{DoxyParamCaption}
)}\hypertarget{_functions_i_o_8hh_a77ed86fa2fad279d440800e10d0f4a9a}{}\label{_functions_i_o_8hh_a77ed86fa2fad279d440800e10d0f4a9a}


Crea un espacio de variables local. 

\begin{DoxyPrecond}{Precondición}
\textquotesingle{}env\textquotesingle{} es un entorno con operaciones primitivas previamente inicializadas, \textquotesingle{}exp\textquotesingle{} una expresion no vacía y \textquotesingle{}parameters\textquotesingle{} los paremtros a definir 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondición}
Crea un espacio de variables inicializado con \textquotesingle{}parameters\textquotesingle{} como nombres de variables y los valores leídos en \textquotesingle{}exp\textquotesingle{} como los valores de dichas variables 
\end{DoxyPostcond}
\begin{DoxyParagraph}{Coste}
Lineal con respecto al tamaño de \textquotesingle{}parameters\textquotesingle{} 
\end{DoxyParagraph}


Definición en la línea 35 del archivo Functions\+I\+O.\+cc.


\begin{DoxyCode}
36 \{
37   \hyperlink{class_input}{Input} in;
38   in << parameters;
39   \textcolor{comment}{/* INV}
40 \textcolor{comment}{    c\_it es un iterador a un elemento de la lista de expresiones de 'exp' comprendido entre exp.begin() y
       exp.end()}
41 \textcolor{comment}{  */}
42   \textcolor{keywordflow}{for}(\hyperlink{_expression_8cc_a6ff59711533978050143f1bfb54c33b1}{const\_iter} c\_it = exp.\hyperlink{class_expression_a0ed7767d72f93c9121bb73afead5782a}{begin}(); c\_it != exp.\hyperlink{class_expression_af5229aaf6bbb7200db55f220f315192e}{end}(); ++c\_it) \{
43     env.\hyperlink{class_environment_a6555e2858047d34b19261518e2ec47ce}{set\_var}(++in, *(*c\_it));
44   \}
45 \}
\end{DoxyCode}
\index{Functions\+I\+O.\+hh@{Functions\+I\+O.\+hh}!evaluate@{evaluate}}
\index{evaluate@{evaluate}!Functions\+I\+O.\+hh@{Functions\+I\+O.\+hh}}
\subsubsection[{\texorpdfstring{evaluate(\+Environment \&env, Expression \&exp)}{evaluate(Environment &env, Expression &exp)}}]{\setlength{\rightskip}{0pt plus 5cm}void evaluate (
\begin{DoxyParamCaption}
\item[{{\bf Environment} \&}]{env, }
\item[{{\bf Expression} \&}]{exp}
\end{DoxyParamCaption}
)}\hypertarget{_functions_i_o_8hh_ad4d84fbc6c7e89fb6c14869a204e0913}{}\label{_functions_i_o_8hh_ad4d84fbc6c7e89fb6c14869a204e0913}


Operación de evaluación de expresión. 

\begin{DoxyPrecond}{Precondición}
\textquotesingle{}env\textquotesingle{} es un entorno con operaciones primitivas previamente inicializadas; \textquotesingle{}exp\textquotesingle{} es una expresión a evaluar 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondición}
Se evalua la expresion \textquotesingle{}exp\textquotesingle{} y se retorna en la misma variable el valor resultante, el cual puede ser un valor, una lista de expresiones o indefinido. 
\end{DoxyPostcond}
\begin{DoxyParagraph}{Coste}
Lineal o logarítmico en función del valor de \textquotesingle{}exp\textquotesingle{} 
\end{DoxyParagraph}


Definición en la línea 47 del archivo Functions\+I\+O.\+cc.


\begin{DoxyCode}
48 \{
49   \textcolor{keywordflow}{if}(exp.\hyperlink{class_expression_a422fb496720b177eaed37a9694613384}{is\_op}())\{
50     \textcolor{keywordflow}{if}(env.\hyperlink{class_environment_a8949b818539cc0caae637f61f8271640}{is\_primitive}(exp.\hyperlink{class_expression_a9216cba5bbd3ffa8c3a625a66b91b36f}{get\_op}())) \{
51       env.\hyperlink{class_environment_a15eff205405da84c7466ac8f1ea6a54c}{get\_prim}(exp.\hyperlink{class_expression_a9216cba5bbd3ffa8c3a625a66b91b36f}{get\_op}())(exp);
52     \}
53     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(env.\hyperlink{class_environment_a323ca63fc26be47fa45d14dd783761e1}{exists\_op}(exp.\hyperlink{class_expression_a9216cba5bbd3ffa8c3a625a66b91b36f}{get\_op}())) \{
54       \textcolor{keywordtype}{string} parameters = env.\hyperlink{class_environment_a4d1630588a2868e2a3ae3868087dedf2}{get\_op}(exp.\hyperlink{class_expression_a9216cba5bbd3ffa8c3a625a66b91b36f}{get\_op}()).first;
55       \textcolor{keywordtype}{string} express = env.\hyperlink{class_environment_a4d1630588a2868e2a3ae3868087dedf2}{get\_op}(exp.\hyperlink{class_expression_a9216cba5bbd3ffa8c3a625a66b91b36f}{get\_op}()).second;
56       \hyperlink{class_environment}{Environment} lEnv(env);
57       lEnv.erase\_varspace();
58       \textcolor{keywordflow}{if}(exp.\hyperlink{class_expression_a0e8980139631cf7bc9fd3bca9d8caddc}{size}() == env.\hyperlink{class_environment_a22ef2de52498e9f0a7491c85e2148f83}{num\_pars\_op}(exp.\hyperlink{class_expression_a9216cba5bbd3ffa8c3a625a66b91b36f}{get\_op}()))\{
59         \hyperlink{_functions_i_o_8cc_a77ed86fa2fad279d440800e10d0f4a9a}{createLocalVarSpace}(lEnv, exp, parameters);
60         \hyperlink{class_input}{Input} in;
61         in << express;
62         ++in;
63         exp.\hyperlink{class_expression_ab2e0ccb0146cccd559c39f8913f9585e}{clear}();
64         \hyperlink{_functions_i_o_8cc_a0c2a0ba0f4fe2dfe26ec14053ce4d408}{readExpression}(lEnv, exp, in);
65       \}
66       \textcolor{keywordflow}{else} \{
67         exp.\hyperlink{class_expression_a1d3ddfe83d20f47930792807e8b22248}{set\_undefined}();
68       \}
69     \}
70   \}
71   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(exp.\hyperlink{class_expression_ae835c069faf7d6821fe6037e384f02c0}{is\_list}()) \{
72     \hyperlink{_expression_8cc_a6ff59711533978050143f1bfb54c33b1}{const\_iter} c\_it = exp.\hyperlink{class_expression_a0ed7767d72f93c9121bb73afead5782a}{begin}();
73     \textcolor{comment}{/* INV}
74 \textcolor{comment}{      c\_it es un iterador a un elemento de la lista de expresiones de 'exp' comprendido entre exp.begin() y
       exp.end()}
75 \textcolor{comment}{    */}
76     \textcolor{keywordflow}{while}(c\_it != exp.\hyperlink{class_expression_af5229aaf6bbb7200db55f220f315192e}{end}() and (*c\_it) -> is\_value()) \{
77       ++c\_it;
78     \}
79     \textcolor{keywordflow}{if}(c\_it != exp.\hyperlink{class_expression_af5229aaf6bbb7200db55f220f315192e}{end}()) \{
80       exp.\hyperlink{class_expression_a1d3ddfe83d20f47930792807e8b22248}{set\_undefined}();
81     \}
82   \}
83 \}
\end{DoxyCode}
\index{Functions\+I\+O.\+hh@{Functions\+I\+O.\+hh}!read\+List@{read\+List}}
\index{read\+List@{read\+List}!Functions\+I\+O.\+hh@{Functions\+I\+O.\+hh}}
\subsubsection[{\texorpdfstring{read\+List(\+Environment \&env, Expression \&exp, Input \&in)}{readList(Environment &env, Expression &exp, Input &in)}}]{\setlength{\rightskip}{0pt plus 5cm}void read\+List (
\begin{DoxyParamCaption}
\item[{{\bf Environment} \&}]{env, }
\item[{{\bf Expression} \&}]{exp, }
\item[{{\bf Input} \&}]{in}
\end{DoxyParamCaption}
)}\hypertarget{_functions_i_o_8hh_aa35945b371ae9ece372fe0a7c8e97aee}{}\label{_functions_i_o_8hh_aa35945b371ae9ece372fe0a7c8e97aee}


Operación de lectura de lista de expresiones. 

\begin{DoxyPrecond}{Precondición}
\textquotesingle{}env\textquotesingle{} es un entorno con operaciones primitivas previamente inicializadas; \textquotesingle{}exp\textquotesingle{} es una expresión no vacía e \textquotesingle{}in\textquotesingle{} contiene los caracteres a añadir en la lista 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondición}
Se crea una lista de expresiones en \textquotesingle{}exp\textquotesingle{}; si alguno de los valores a añadir es indefinidos, se modifica el valor de la expresión a indefinido 
\end{DoxyPostcond}
\begin{DoxyParagraph}{Coste}
Lineal 
\end{DoxyParagraph}


Definición en la línea 85 del archivo Functions\+I\+O.\+cc.


\begin{DoxyCode}
86 \{
87   \textcolor{keywordflow}{if}(in.\hyperlink{class_input_a1e3e0c2189a88504d8c5e440de162e77}{get\_str}() != \textcolor{stringliteral}{")"}) \{
88     \hyperlink{class_expression}{Expression}* pExp;
89     \textcolor{comment}{/* INV}
90 \textcolor{comment}{      'pExp' es un puntero a una expresión a ser insertada al final de la lista de expresiones de 'exp'}
91 \textcolor{comment}{    */}
92     \textcolor{keywordflow}{do} \{
93       pExp = \textcolor{keyword}{new} \hyperlink{class_expression}{Expression};
94       \hyperlink{_functions_i_o_8cc_a0c2a0ba0f4fe2dfe26ec14053ce4d408}{readExpression}(env, *pExp, in);
95       exp.\hyperlink{class_expression_a2f087974bb5cee7d0ea06838f5d68ba8}{insert}(exp.\hyperlink{class_expression_af5229aaf6bbb7200db55f220f315192e}{end}(), pExp);
96     \} \textcolor{keywordflow}{while}(++in != \textcolor{stringliteral}{")"} and not pExp -> undefined());
97     \textcolor{keywordflow}{if}(pExp -> undefined()) \{
98       exp.\hyperlink{class_expression_a1d3ddfe83d20f47930792807e8b22248}{set\_undefined}();
99     \}
100     \textcolor{keywordflow}{else} \{
101       exp.\hyperlink{class_expression_a66db516be4fa87d58df4806938676508}{set\_list}();
102     \}
103   \}
104   \textcolor{keywordflow}{else} \{
105     exp.\hyperlink{class_expression_a1e0ff9e6ef7b9b96466300509decab24}{set\_empty\_list}();
106   \}
107 \}
\end{DoxyCode}
\index{Functions\+I\+O.\+hh@{Functions\+I\+O.\+hh}!read\+If@{read\+If}}
\index{read\+If@{read\+If}!Functions\+I\+O.\+hh@{Functions\+I\+O.\+hh}}
\subsubsection[{\texorpdfstring{read\+If(\+Environment \&env, Expression \&exp, Input \&in)}{readIf(Environment &env, Expression &exp, Input &in)}}]{\setlength{\rightskip}{0pt plus 5cm}void read\+If (
\begin{DoxyParamCaption}
\item[{{\bf Environment} \&}]{env, }
\item[{{\bf Expression} \&}]{exp, }
\item[{{\bf Input} \&}]{in}
\end{DoxyParamCaption}
)}\hypertarget{_functions_i_o_8hh_ae5d92549027ba3619eca48a15b567682}{}\label{_functions_i_o_8hh_ae5d92549027ba3619eca48a15b567682}


Operación de lectura de operación \textquotesingle{}if\textquotesingle{}. 

\begin{DoxyPrecond}{Precondición}
\textquotesingle{}env\textquotesingle{} es un entorno con operaciones primitivas previamente inicializadas; \textquotesingle{}exp\textquotesingle{} es una expresion inicializada con el operador \textquotesingle{}if\textquotesingle{}; \textquotesingle{}in\textquotesingle{} contiene una cadena de caracteres introducidas por el usuario por el canal estandar de entrada a ser introducidos como parámetros de la operación 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondición}
\textquotesingle{}exp\textquotesingle{} pasa a contener el operador \textquotesingle{}if\textquotesingle{} y los parámetros que esta operación necesita (un booleano y otro elemento que varía en función del estado de booleano). En caso que alguno de los parámetros sea indefinido, \textquotesingle{}exp\textquotesingle{} pasa a ser indefinido 
\end{DoxyPostcond}
\begin{DoxyParagraph}{Coste}
Lineal 
\end{DoxyParagraph}


Definición en la línea 109 del archivo Functions\+I\+O.\+cc.


\begin{DoxyCode}
110 \{
111   \textcolor{keywordtype}{string} str;
112   \hyperlink{class_expression}{Expression}* pExp = \textcolor{keyword}{new} \hyperlink{class_expression}{Expression};
113   \hyperlink{_functions_i_o_8cc_a0c2a0ba0f4fe2dfe26ec14053ce4d408}{readExpression}(env, *pExp, in);
114   exp.\hyperlink{class_expression_a2f087974bb5cee7d0ea06838f5d68ba8}{insert}(exp.\hyperlink{class_expression_af5229aaf6bbb7200db55f220f315192e}{end}(), pExp);
115   \textcolor{keywordflow}{if}(pExp -> is\_bool())\{
116     \textcolor{keywordtype}{int} b = pExp -> get\_value();
117     \textcolor{keywordflow}{if}(b == 0) \{
118       in.\hyperlink{class_input_a1c8a389a2bccdcc8c6206c2fbdd6a9f8}{nextExpression}();
119     \}
120     \textcolor{keywordflow}{if}(in.\hyperlink{class_input_a61a5b6e5b3e5d7b3022cf93ee5320a1e}{get\_p}() > 0) \{
121       ++in;
122       pExp = \textcolor{keyword}{new} \hyperlink{class_expression}{Expression};
123       \hyperlink{_functions_i_o_8cc_a0c2a0ba0f4fe2dfe26ec14053ce4d408}{readExpression}(env, *pExp, in);
124       exp.\hyperlink{class_expression_a2f087974bb5cee7d0ea06838f5d68ba8}{insert}(exp.\hyperlink{class_expression_af5229aaf6bbb7200db55f220f315192e}{end}(), pExp);
125       \textcolor{keywordflow}{if}(pExp -> undefined() or  (2 - b + in.\hyperlink{class_input_ac9f1e2e25646ce602cf9ff83dcc563fe}{countExpressions}() != 2)) \{
126         exp.\hyperlink{class_expression_a1d3ddfe83d20f47930792807e8b22248}{set\_undefined}();
127       \}
128     \}
129     \textcolor{keywordflow}{else} \{
130       exp.\hyperlink{class_expression_a1d3ddfe83d20f47930792807e8b22248}{set\_undefined}();
131     \}
132   \}
133   \textcolor{keywordflow}{else} \{
134     exp.\hyperlink{class_expression_a1d3ddfe83d20f47930792807e8b22248}{set\_undefined}();
135   \}
136 \}
\end{DoxyCode}
\index{Functions\+I\+O.\+hh@{Functions\+I\+O.\+hh}!read\+Op@{read\+Op}}
\index{read\+Op@{read\+Op}!Functions\+I\+O.\+hh@{Functions\+I\+O.\+hh}}
\subsubsection[{\texorpdfstring{read\+Op(\+Environment \&env, Expression \&exp, Input \&in)}{readOp(Environment &env, Expression &exp, Input &in)}}]{\setlength{\rightskip}{0pt plus 5cm}void read\+Op (
\begin{DoxyParamCaption}
\item[{{\bf Environment} \&}]{env, }
\item[{{\bf Expression} \&}]{exp, }
\item[{{\bf Input} \&}]{in}
\end{DoxyParamCaption}
)}\hypertarget{_functions_i_o_8hh_acb31c57a06915fe17eee64989f500f0d}{}\label{_functions_i_o_8hh_acb31c57a06915fe17eee64989f500f0d}


Operación de lectura de operación. 

\begin{DoxyPrecond}{Precondición}
\textquotesingle{}env\textquotesingle{} es un entorno con operaciones primitivas previamente inicializadas; \textquotesingle{}exp\textquotesingle{} es una expresion inicializada; \textquotesingle{}in\textquotesingle{} contiene una cadena de caracteres introducidos por el usuario por el canal estandar de entrada a ser introducidos como parámetros 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondición}
La expresión \textquotesingle{}exp\textquotesingle{} pasa a ser una expresión a ser evaluada en forma de operación, primitiva o no 
\end{DoxyPostcond}
\begin{DoxyParagraph}{Coste}
Lineal 
\end{DoxyParagraph}


Definición en la línea 138 del archivo Functions\+I\+O.\+cc.


\begin{DoxyCode}
139 \{
140   exp.\hyperlink{class_expression_adffd3a10200510c64055e550e9eebb1f}{set\_op}(in.\hyperlink{class_input_a1e3e0c2189a88504d8c5e440de162e77}{get\_str}());
141   ++in;
142   \textcolor{keywordflow}{if}(exp.\hyperlink{class_expression_a9216cba5bbd3ffa8c3a625a66b91b36f}{get\_op}() == \textcolor{stringliteral}{"if"}) \{
143     \hyperlink{_functions_i_o_8cc_ae5d92549027ba3619eca48a15b567682}{readIf}(env, exp, in);
144   \}
145   \textcolor{keywordflow}{else} \{
146     \hyperlink{class_expression}{Expression} aux;
147     \hyperlink{_functions_i_o_8cc_aa35945b371ae9ece372fe0a7c8e97aee}{readList}(env, aux, in);
148     \textcolor{keywordflow}{if}(aux.\hyperlink{class_expression_a97f9b6fc78a7ef17dd9595e53a9b6239}{undefined}()) \{
149       exp.\hyperlink{class_expression_a1d3ddfe83d20f47930792807e8b22248}{set\_undefined}();
150     \}
151     \textcolor{keywordflow}{else} \{
152       exp.\hyperlink{class_expression_a1668a7770489da5f57801254c35557ee}{swap\_list}(aux);
153     \}
154   \}
155 \}
\end{DoxyCode}
\index{Functions\+I\+O.\+hh@{Functions\+I\+O.\+hh}!define\+Var@{define\+Var}}
\index{define\+Var@{define\+Var}!Functions\+I\+O.\+hh@{Functions\+I\+O.\+hh}}
\subsubsection[{\texorpdfstring{define\+Var(\+Environment \&env, string key, Input \&in)}{defineVar(Environment &env, string key, Input &in)}}]{\setlength{\rightskip}{0pt plus 5cm}void define\+Var (
\begin{DoxyParamCaption}
\item[{{\bf Environment} \&}]{env, }
\item[{string}]{key, }
\item[{{\bf Input} \&}]{in}
\end{DoxyParamCaption}
)}\hypertarget{_functions_i_o_8hh_a2b0504402167c389ef8c7de12d41149b}{}\label{_functions_i_o_8hh_a2b0504402167c389ef8c7de12d41149b}


Operación de definición de variable. 

\begin{DoxyPrecond}{Precondición}
\textquotesingle{}env\textquotesingle{} es un entorno con operaciones primitivas previamente inicializadas; \textquotesingle{}key\textquotesingle{} es el nombre de la variable a definir; \textquotesingle{}in\textquotesingle{} contiene una cadena de caracteres introducidos por el usuario por el canal estandar de entrada a ser introducidos como parámetros 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondición}
Se define una nueva variable con nombre \textquotesingle{}key\textquotesingle{} y valor extraído de la entrada mediante \textquotesingle{}in\textquotesingle{}, o se modifica una variable ya existente; dicha variable se añade al espacio de variables definidas por el usuario si su evaluación no es indefinido y no existía previamente; en caso que existiera, si su evaluación no es indefinido, se actualiza su valor; en otro caso, su valor en el espacio de variables (si existía) no se ve modificado y se imprime indefinido por el canal estándar de salida 
\end{DoxyPostcond}
\begin{DoxyParagraph}{Coste}
Lineal 
\end{DoxyParagraph}


Definición en la línea 157 del archivo Functions\+I\+O.\+cc.


\begin{DoxyCode}
158 \{
159   \hyperlink{class_expression}{Expression} exp;
160   \hyperlink{_functions_i_o_8cc_a0c2a0ba0f4fe2dfe26ec14053ce4d408}{readExpression}(env, exp, in);
161   \textcolor{keywordflow}{if}(not exp.\hyperlink{class_expression_a97f9b6fc78a7ef17dd9595e53a9b6239}{undefined}()) \{
162     env.\hyperlink{class_environment_a6555e2858047d34b19261518e2ec47ce}{set\_var}(key, exp);
163     env.\hyperlink{class_environment_a2fda411113f72e6e86176b8f00fcc9d7}{write\_var}(key);
164   \}
165   \textcolor{keywordflow}{else} \{
166     cout << key << \textcolor{stringliteral}{" "} << \textcolor{stringliteral}{"indefinit"} << endl;
167   \}
168 \}
\end{DoxyCode}
\index{Functions\+I\+O.\+hh@{Functions\+I\+O.\+hh}!define\+Op@{define\+Op}}
\index{define\+Op@{define\+Op}!Functions\+I\+O.\+hh@{Functions\+I\+O.\+hh}}
\subsubsection[{\texorpdfstring{define\+Op(\+Environment \&env, string key, string parameters, Input \&in)}{defineOp(Environment &env, string key, string parameters, Input &in)}}]{\setlength{\rightskip}{0pt plus 5cm}void define\+Op (
\begin{DoxyParamCaption}
\item[{{\bf Environment} \&}]{env, }
\item[{string}]{key, }
\item[{string}]{parameters, }
\item[{{\bf Input} \&}]{in}
\end{DoxyParamCaption}
)}\hypertarget{_functions_i_o_8hh_a39e6424c2643bf6ddf2e5ff8a8c342e9}{}\label{_functions_i_o_8hh_a39e6424c2643bf6ddf2e5ff8a8c342e9}


Operación de definición de operación. 

\begin{DoxyPrecond}{Precondición}
\textquotesingle{}env\textquotesingle{} es un entorno con operaciones primitivas previamente inicializadas; \textquotesingle{}key\textquotesingle{} es el nombre de la operacion a definir; \textquotesingle{}parameters\textquotesingle{} es la lista de parámetros de la operación; \textquotesingle{}in\textquotesingle{} contiene una cadena de caracteres introducidas por el usuario por el canal estandar de entrada con la información relevante a la expresión de la operación 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondición}
Se define una nueva operación con nombre \textquotesingle{}key\textquotesingle{}, parametros \textquotesingle{}parameters\textquotesingle{} y como valor la cadena introducida por el canal estandar de entrada mediante \textquotesingle{}in\textquotesingle{}; esta nueva operación se añade al espacio de operaciones definidas por el usuario sin que su expresión sea evaluada previamente 
\end{DoxyPostcond}
\begin{DoxyParagraph}{Coste}
Logaritmico 
\end{DoxyParagraph}


Definición en la línea 170 del archivo Functions\+I\+O.\+cc.


\begin{DoxyCode}
171 \{
172   --in;
173   env.\hyperlink{class_environment_abcfe3cc83f17d704cc51efb2e6a4c3b8}{set\_op}(key, parameters, in.\hyperlink{class_input_a1c8a389a2bccdcc8c6206c2fbdd6a9f8}{nextExpression}());
174   env.\hyperlink{class_environment_a6f449052df64c7f8bf44428835dc3d7b}{write\_op}(key);
175 \}
\end{DoxyCode}
\index{Functions\+I\+O.\+hh@{Functions\+I\+O.\+hh}!define@{define}}
\index{define@{define}!Functions\+I\+O.\+hh@{Functions\+I\+O.\+hh}}
\subsubsection[{\texorpdfstring{define(\+Environment \&env, Input \&in)}{define(Environment &env, Input &in)}}]{\setlength{\rightskip}{0pt plus 5cm}void define (
\begin{DoxyParamCaption}
\item[{{\bf Environment} \&}]{env, }
\item[{{\bf Input} \&}]{in}
\end{DoxyParamCaption}
)}\hypertarget{_functions_i_o_8hh_a65f523a256e113ca2711c3972157df26}{}\label{_functions_i_o_8hh_a65f523a256e113ca2711c3972157df26}


Operación de definición. 

\begin{DoxyPrecond}{Precondición}
\textquotesingle{}env\textquotesingle{} es un entorno con operaciones primitivas previamente inicializadas; \textquotesingle{}in\textquotesingle{} contiene una cadena con la declaración de la definición 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondición}
Se ha creado una varible u operación definidas por el usuario en el espacio dentro del entorno del programa correspondiente, o se ha mostrado \textquotesingle{}indefinido\textquotesingle{} en el caso de una variable cuya evaluación sea \textquotesingle{}indefinido\textquotesingle{} 
\end{DoxyPostcond}
\begin{DoxyParagraph}{Coste}
Logarítmico 
\end{DoxyParagraph}


Definición en la línea 177 del archivo Functions\+I\+O.\+cc.


\begin{DoxyCode}
178 \{
179   \textcolor{keywordtype}{string} key = ++in;
180   \textcolor{keywordtype}{string} aux = in.\hyperlink{class_input_a1c8a389a2bccdcc8c6206c2fbdd6a9f8}{nextExpression}();
181   ++in;
182   \textcolor{keywordflow}{if}(in.\hyperlink{class_input_a61a5b6e5b3e5d7b3022cf93ee5320a1e}{get\_p}() == 0) \{
183     in << aux;
184     ++in;
185     \hyperlink{_functions_i_o_8cc_a2b0504402167c389ef8c7de12d41149b}{defineVar}(env, key, in);
186   \}
187   \textcolor{keywordflow}{else}\{
188     \textcolor{keywordflow}{if}(aux.size() < 4) \{
189       aux.clear();
190     \}
191     \textcolor{keywordflow}{else} \{
192       aux.erase(0, 2);
193       aux.erase(aux.size()-2, 2);
194     \}
195     \hyperlink{_functions_i_o_8cc_a39e6424c2643bf6ddf2e5ff8a8c342e9}{defineOp}(env, key, aux, in);
196   \}
197 \}
\end{DoxyCode}
\index{Functions\+I\+O.\+hh@{Functions\+I\+O.\+hh}!read\+Expression@{read\+Expression}}
\index{read\+Expression@{read\+Expression}!Functions\+I\+O.\+hh@{Functions\+I\+O.\+hh}}
\subsubsection[{\texorpdfstring{read\+Expression(\+Environment \&env, Expression \&exp, Input \&in)}{readExpression(Environment &env, Expression &exp, Input &in)}}]{\setlength{\rightskip}{0pt plus 5cm}bool read\+Expression (
\begin{DoxyParamCaption}
\item[{{\bf Environment} \&}]{env, }
\item[{{\bf Expression} \&}]{exp, }
\item[{{\bf Input} \&}]{in}
\end{DoxyParamCaption}
)}\hypertarget{_functions_i_o_8hh_a0c2a0ba0f4fe2dfe26ec14053ce4d408}{}\label{_functions_i_o_8hh_a0c2a0ba0f4fe2dfe26ec14053ce4d408}


Inmersión de operación de lectura de expresiones. 

\begin{DoxyPrecond}{Precondición}
\textquotesingle{}env\textquotesingle{} es un entorno con un espacio de operaciones primitivas inicializado con las operaciones primitivas predefinidas; \textquotesingle{}exp\textquotesingle{} es una expresión vacía 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondición}
Se han leído los datos del canal estándar de entrada correspondientes a una expresión simple (que forma o puede formar parte de otra expresión mayor) y se han asignado a \textquotesingle{}env\textquotesingle{} si eran una definición de una variable u operación o a \textquotesingle{}exp\textquotesingle{} si representaban una expresión evaluable 
\end{DoxyPostcond}
\begin{DoxyParagraph}{Coste}
Lineal 
\end{DoxyParagraph}


Definición en la línea 199 del archivo Functions\+I\+O.\+cc.


\begin{DoxyCode}
200 \{
201   \textcolor{keywordtype}{string} str = in.\hyperlink{class_input_a1e3e0c2189a88504d8c5e440de162e77}{get\_str}();
202   \textcolor{keywordflow}{if}(str == \textcolor{stringliteral}{"("}) \{
203     in >> str;
204     \textcolor{keywordflow}{if}(env.\hyperlink{class_environment_a18ebd27038386a636917cbb2bc1583df}{is\_op}(str)) \{
205       \hyperlink{_functions_i_o_8cc_acb31c57a06915fe17eee64989f500f0d}{readOp}(env, exp, in);
206     \}
207     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(str == \textcolor{stringliteral}{"define"}) \{
208       \hyperlink{_functions_i_o_8cc_a65f523a256e113ca2711c3972157df26}{define}(env, in);
209     \}
210     \textcolor{keywordflow}{else} \{
211       \hyperlink{_functions_i_o_8cc_aa35945b371ae9ece372fe0a7c8e97aee}{readList}(env, exp, in);
212     \}
213   \}
214   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{_functions_i_o_8cc_ae6062008fb1c70242c967349d6ee0f9b}{is\_num}(str))\{
215     exp.\hyperlink{class_expression_a307683cc3735bf81d823931aab2d64e0}{set\_value}(stoi(str));
216   \}
217   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(env.\hyperlink{class_environment_ace3eae39aed1b747a18ab27e45dc96b7}{exists\_var}(str)) \{
218     exp = env.\hyperlink{class_environment_a3f717bc3f94f76cfb8bc7ff139ffe89b}{get\_var}(str);
219   \}
220   \textcolor{keywordflow}{else} \{
221     exp.\hyperlink{class_expression_a1d3ddfe83d20f47930792807e8b22248}{set\_undefined}();
222   \}
223   \hyperlink{_functions_i_o_8cc_ad4d84fbc6c7e89fb6c14869a204e0913}{evaluate}(env, exp);
224   \textcolor{keywordflow}{return} str != \textcolor{stringliteral}{"define"};
225 \}
\end{DoxyCode}
\index{Functions\+I\+O.\+hh@{Functions\+I\+O.\+hh}!read@{read}}
\index{read@{read}!Functions\+I\+O.\+hh@{Functions\+I\+O.\+hh}}
\subsubsection[{\texorpdfstring{read(\+Environment \&env, Expression \&exp)}{read(Environment &env, Expression &exp)}}]{\setlength{\rightskip}{0pt plus 5cm}bool read (
\begin{DoxyParamCaption}
\item[{{\bf Environment} \&}]{env, }
\item[{{\bf Expression} \&}]{exp}
\end{DoxyParamCaption}
)}\hypertarget{_functions_i_o_8hh_a10264ecdb3196a71243b69fd4f98c229}{}\label{_functions_i_o_8hh_a10264ecdb3196a71243b69fd4f98c229}


Operación de lectura de expresiones. 

\begin{DoxyPrecond}{Precondición}
\textquotesingle{}env\textquotesingle{} es un entorno con un espacio de operaciones primitivas inicializado con las operaciones primitivas predefinidas; \textquotesingle{}exp\textquotesingle{} es una expresión vacía 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondición}
Los datos del canal estándar de entrada correspondientes una expresión completa han sido leídos y se han asignado a \textquotesingle{}env\textquotesingle{} si eran una definición de una variable o operación o a \textquotesingle{}exp\textquotesingle{} si representaban una expresión evaluable 
\end{DoxyPostcond}
\begin{DoxyParagraph}{Coste}
Lineal 
\end{DoxyParagraph}


Definición en la línea 227 del archivo Functions\+I\+O.\+cc.


\begin{DoxyCode}
228 \{
229   \hyperlink{class_input}{Input} in;
230   \textcolor{keywordtype}{string} str = ++in;
231   \textcolor{keywordflow}{if}(str != \textcolor{stringliteral}{"****"} and \hyperlink{_functions_i_o_8cc_a0c2a0ba0f4fe2dfe26ec14053ce4d408}{readExpression}(env, exp, in))\{
232     exp.\hyperlink{class_expression_a6d5d0fa496e3713c332c9f1edc269de5}{write}();
233   \}
234   in.\hyperlink{class_input_a326f5a9c81353747b9f525bb32dbc8df}{endOfExpression}();
235   \textcolor{keywordflow}{return} str != \textcolor{stringliteral}{"****"};
236 \}
\end{DoxyCode}
